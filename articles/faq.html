<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tsibble">
<title>Frequently Asked Questions and Answers • tsibble</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequently Asked Questions and Answers">
<meta property="og:description" content="tsibble">
<meta property="og:image" content="https://tsibble.tidyverts.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-83007123-4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-83007123-4');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary" data-bs-theme="default"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tsibble</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/intro-tsibble.html">Introduction to tsibble</a>
    <a class="dropdown-item" href="../articles/implicit-na.html">Handle implicit missingess with tsibble</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/faq.html">FAQ</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverts/tsibble/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Frequently Asked Questions and Answers</h1>
                        <h4 data-toc-skip class="author">Earo Wang</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverts/tsibble/blob/HEAD/vignettes/faq.Rmd" class="external-link"><code>vignettes/faq.Rmd</code></a></small>
      <div class="d-none name"><code>faq.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tsibble.tidyverts.org">tsibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><em>Error: “Can’t obtain the interval due to the mismatched index
class.”</em></p>
</blockquote>
<blockquote>
<p><em>I have monthly data and coerce it to a tsibble. Why does tsibble
give one-day interval <code>[1D]</code> instead of one-month
<code>[1M]</code>?</em></p>
</blockquote>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_date</a></span><span class="op">(</span><span class="st">"2018"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/weekday.POSIXt.html" class="external-link">months</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span>mth <span class="op">=</span> <span class="va">mth</span>, index <span class="op">=</span> <span class="va">mth</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 1 [1D]</span></span></span>
<span><span class="co">#&gt;   mth       </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-02-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-03-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-04-01</span></span></code></pre></div>
<p>The interval depends on the index class. It is unclear in this
situation to tell if it’s daily data with implicit missingness or it’s
monthly data. If using <code>Date</code> underlying monthly data, each
month could range from 28 to 31 days, which isn’t regularly spaced. But
class <code>yearmonth</code> puts emphasis on 12 months per year, which
is clearly regularly spaced and the accurate representation for
aggregations over months. This applies to <code>POSIXct</code> for
sub-daily data, <code>Date</code> for daily, <code>yearquarter</code>
for quarterly, and etc. If you encounter this error “Can’t obtain the
interval due to mismatched index class.”, it’s the same underlying
issue.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span>mth <span class="op">=</span> <span class="fu"><a href="../reference/year-month.html">yearmonth</a></span><span class="op">(</span><span class="va">mth</span><span class="op">)</span>, index <span class="op">=</span> <span class="va">mth</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 1 [1M]</span></span></span>
<span><span class="co">#&gt;        mth</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;mth&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018 Jan</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018 Feb</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018 Mar</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018 Apr</span></span></code></pre></div>
<hr>
<blockquote>
<p><em>Does tsibble respect time zones?</em></p>
</blockquote>
<p>Yes, tsibble respects time zones throughout the package. All index
functions including <code><a href="../reference/year-week.html">yearweek()</a></code>, <code><a href="../reference/year-month.html">yearmonth()</a></code>,
<code><a href="../reference/year-quarter.html">yearquarter()</a></code>, and <code><a href="../reference/time_in.html">time_in()</a></code> take care of time
zones, and will NOT convert to “UTC”. The interval obtained from the
data also respects the time zone, by converting to seconds. The
following example demonstrates how tsibble handles daylight savings.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_h</a></span><span class="op">(</span><span class="st">"2015-04-05 01"</span>, tz <span class="op">=</span> <span class="st">"Australia/Melbourne"</span><span class="op">)</span></span>
<span><span class="co"># base arithmetic respect tz</span></span>
<span><span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span>time <span class="op">=</span> <span class="va">x</span> <span class="op">+</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">60</span> <span class="op">*</span> <span class="fl">60</span>, index <span class="op">=</span> <span class="va">time</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 1 [3h] &lt;Australia/Melbourne&gt;</span></span></span>
<span><span class="co">#&gt;   time               </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2015-04-05 <span style="color: #949494;">01:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2015-04-05 <span style="color: #949494;">03:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2015-04-05 <span style="color: #949494;">06:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2015-04-05 <span style="color: #949494;">09:00:00</span></span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lubridate arithmetic doesn't respect tz</span></span>
<span><span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span>time <span class="op">=</span> <span class="va">x</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">hours</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span>, index <span class="op">=</span> <span class="va">time</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 1 [1h] &lt;Australia/Melbourne&gt;</span></span></span>
<span><span class="co">#&gt;   time               </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2015-04-05 <span style="color: #949494;">01:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2015-04-05 <span style="color: #949494;">04:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2015-04-05 <span style="color: #949494;">07:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2015-04-05 <span style="color: #949494;">10:00:00</span></span></span></code></pre></div>
<p>I would say both are correct. The displayed interval may suggest the
actual time is different from what you think it is.</p>
<hr>
<blockquote>
<p><em>I have multiple units measured at different time intervals. Can I
put them into one tsibble?</em></p>
</blockquote>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tsbl1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_datetime</a></span><span class="op">(</span><span class="fl">2018</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">hours</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  station <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>  index <span class="op">=</span> <span class="va">time</span>, key <span class="op">=</span> <span class="va">station</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 2 [1h] &lt;UTC&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:       station [1]</span></span></span>
<span><span class="co">#&gt;   time                station</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-01-01 <span style="color: #949494;">01:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-01-01 <span style="color: #949494;">02:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-01-01 <span style="color: #949494;">03:00:00</span> A</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tsbl2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tsibble.html">tsibble</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_datetime</a></span><span class="op">(</span><span class="fl">2018</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">minutes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">90</span>, by <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  station <span class="op">=</span> <span class="st">"B"</span>,</span>
<span>  index <span class="op">=</span> <span class="va">time</span>, key <span class="op">=</span> <span class="va">station</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 2 [30m] &lt;UTC&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:       station [1]</span></span></span>
<span><span class="co">#&gt;   time                station</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-01-01 <span style="color: #949494;">00:30:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-01-01 <span style="color: #949494;">01:00:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-01-01 <span style="color: #949494;">01:30:00</span> B</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">tsbl1</span>, <span class="va">tsbl2</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 8 x 2 [30m] &lt;UTC&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:       station [2]</span></span></span>
<span><span class="co">#&gt;   time                station</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-01-01 <span style="color: #949494;">01:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-01-01 <span style="color: #949494;">02:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-01-01 <span style="color: #949494;">03:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2018-01-01 <span style="color: #949494;">00:30:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 2018-01-01 <span style="color: #949494;">01:00:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> 2018-01-01 <span style="color: #949494;">01:30:00</span> B</span></span></code></pre></div>
<p>Certainly you can. But tsibble only allows for one interval, because
station <code>A</code> is thought of as time gaps involved. If you want
to analyse them differently, it is recommended to have separate tsibbles
instead.</p>
<hr>
<blockquote>
<p><em>I have multiple units measured at the same time interval. But the
tsibble interval doesn’t look correct.</em></p>
</blockquote>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_datetime</a></span><span class="op">(</span><span class="fl">2018</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">minutes</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>  </span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">minutes</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  station <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/as-tsibble.html">as_tsibble</a></span><span class="op">(</span><span class="va">tbl</span>, index <span class="op">=</span> <span class="va">time</span>, key <span class="op">=</span> <span class="va">station</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 2 [1m] &lt;UTC&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:       station [2]</span></span></span>
<span><span class="co">#&gt;   time                station</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-01-01 <span style="color: #949494;">00:15:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-01-01 <span style="color: #949494;">00:01:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-01-01 <span style="color: #949494;">00:16:00</span> B</span></span></code></pre></div>
<p>Each station shares the common 15-minute interval, but the date-times
don’t align. Rounding them is a quick way to fix it, if binning time
doesn’t matter to the analysis. If it does, please organise them in
different tables.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/round_date.html" class="external-link">floor_date</a></span><span class="op">(</span><span class="va">time</span>, unit <span class="op">=</span> <span class="st">"15 mins"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/as-tsibble.html">as_tsibble</a></span><span class="op">(</span>index <span class="op">=</span> <span class="va">time</span>, key <span class="op">=</span> <span class="va">station</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tsibble: 4 x 2 [15m] &lt;UTC&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:       station [2]</span></span></span>
<span><span class="co">#&gt;   time                station</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2018-01-01 <span style="color: #949494;">00:15:00</span> A      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2018-01-01 <span style="color: #949494;">00:00:00</span> B      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2018-01-01 <span style="color: #949494;">00:15:00</span> B</span></span></code></pre></div>
<p>If it’s event data, each event couples with a precise time stamp, and
most likely you need <code>regular = FALSE</code> for an
irregularly-spaced tsibble.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://earo.me" class="external-link">Earo Wang</a>, <a href="https://www.dicook.org/" class="external-link">Di Cook</a>, <a href="https://robjhyndman.com/" class="external-link">Rob Hyndman</a>, <a href="https://blog.mitchelloharawild.com/" class="external-link">Mitchell O’Hara-Wild</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
